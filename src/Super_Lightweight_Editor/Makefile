# Makefile ƒëa nƒÉng: build C ho·∫∑c C++ t√πy theo FILE=

# T√™n file truy·ªÅn v√†o, v√≠ d·ª•: FILE=main.cpp
FILE ?= main.cpp

TARGET := $(basename $(FILE))

EXT := $(suffix $(FILE))

ifeq ($(EXT),.c)
	COMPILER := gcc
	CFLAGS := -Wall -O2 -std=c23
else ifeq ($(EXT),.cpp)
	COMPILER := g++
	CFLAGS := -Wall -O2 -std=c++23
else
	$(error ‚ùå No support for format $(EXT). Support .c or .cpp)
endif

all:
	@echo üî® Compiling $(FILE) with $(COMPILER)...
	$(COMPILER) $(CFLAGS) $(FILE) -o $(TARGET)
	@echo ‚úÖ Done! Output: ./$(TARGET)

clean:
	@echo üßπ Clearing file output...
	@rm -f $(TARGET)

